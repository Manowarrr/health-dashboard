# Техническое Задание (ТЗ)

## 1. Пользовательский Интерфейс (UI)

### FR-UI-DASH-001: Главная Панель Управления (Дашборд)

- **Требование:** Отображение сводной информации по ключевым показателям за выбранный день.
    
- **Описание:** Dark mode, левый сайдбар для навигации, основная область с сеткой виджетов (питание, активность, сон). Заголовок с выбором даты и кнопкой "Добавить запись".
    

### FR-UI-ENTRY-002: Интерфейс Ввода Данных

- **Требование:** Унифицированный интерфейс для добавления записей через модальное окно.
    
- **Описание:** Вызывается по кнопке "Добавить запись". Сначала пользователь выбирает тип данных (Еда, Тренировка), затем появляется динамическая форма с полями, соответствующими выбранному типу.
    

### FR-UI-HIST-003: Просмотр Истории и Аналитики

- **Требование:** Возможность просматривать динамику любого показателя во времени.
    
- **Описание:** Отдельный раздел с интерактивным графиком. Пользователь может выбрать показатель и период для анализа. Под графиком — детальный журнал записей.
    

## 2. Структура Данных (Схема Базы Данных)

### DB-SCHEMA-001: Таблицы PostgreSQL

- **`users`**: Профили (id, height_cm, date_of_birth).
    
- **`products`**: Справочник продуктов (name, calories, protein, fat, carbs_per_100g, etc.).
    
- **`food_log`**: Журнал приемов пищи (product_id, weight_g, meal_type, logged_at).
    
- **`workouts`**: Журнал тренировок (type, name, duration_minutes, rpe, started_at).
    
- **`workout_sets`**: Подходы в силовых тренировках (workout_id, exercise_name, reps, weight_kg).
    
- **`daily_metrics`**: Ежедневные показатели (date, steps, water_ml, energy_level, etc.).
    
- **`sleep_log`**: Журнал сна (start_time, end_time, quality_rating).
    
- **`supplements`**: Справочник добавок (name, dose_per_unit, dose_units).
    
- **`supplement_log`**: Журнал приема добавок (supplement_id, total_dose, date).
    
- **`body_measurements`**: Журнал измерений тела (date, weight_kg, body_fat_pct).
    
- **`goals`**: Цели пользователя (name, linked_metric, start_value, target_value, status).
    

_Все таблицы имеют `user_id` и настроены политики RLS для изоляции данных._

## 3. Функциональные Блоки

### FR-FUNC-BLOCKS-001: Детализация

- **FOOD_DATA_MANAGEMENT:** CRUD для справочника продуктов.
    
- **DAILY_LOGGING_ENGINE:** Запись всех событий в соответствующие таблицы БД.
    
- **DAILY_SUMMARY_CALCULATION:** Агрегация и расчет итоговых показателей за день для дашборда.
    
- **SUPPLEMENT_TRACKING_SYSTEM:** Управление справочником, схемами и журналом приема добавок.
    
- **HISTORICAL_DATA_ANALYSIS:** Извлечение данных для построения графиков.
    
- **GOAL_PROGRESS_TRACKING:** CRUD для целей и расчет прогресса.